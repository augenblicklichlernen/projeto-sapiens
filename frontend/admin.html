<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Painel do Admin - Projeto Sapiens</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* --- ESTILOS DA TELA DE SENHA --- */
        #password-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(26, 26, 26, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        #password-box {
            background-color: #f5f5f5;
            padding: 30px;
            border-radius: 8px;
            border: 2px solid #1a1a1a;
            box-shadow: 4px 4px 0 0 #1a1a1a;
            text-align: center;
        }
        /* --- FIM DOS ESTILOS DA TELA DE SENHA --- */

        #admin-content { display: none; } /* O conteúdo principal começa escondido */

        .admin-section { padding: 20px; max-width: 800px; margin: 20px auto; background-color: #fff; border: 2px solid #1a1a1a; border-radius: 8px; box-shadow: 4px 4px 0 0 #1a1a1a; }
        .admin-section h2 { margin-top: 0; }
        fieldset { border: 2px dashed #ccc; padding: 15px; margin-bottom: 20px; border-radius: 8px; }
        legend { font-weight: bold; font-family: 'Space Mono', monospace; padding: 0 10px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; text-align: left; }
        input[type="text"], input[type="number"], input[type="password"], textarea, select { width: 100%; margin-bottom: 15px; }
        textarea { min-height: 100px; }
    </style>
</head>
<body>

    <!-- INÍCIO DA TELA DE SENHA -->
    <div id="password-overlay">
        <div id="password-box">
            <h2>Acesso Restrito</h2>
            <p>Por favor, insira a senha de administrador.</p>
            <form id="password-form">
                <input type="password" id="admin-password" autofocus>
                <button type="submit">Entrar</button>
            </form>
        </div>
    </div>
    <!-- FIM DA TELA DE SENHA -->

    <div id="admin-content">
        <header><h1>Painel do Administrador</h1></header>
        <main>
            <!-- O conteúdo que já tínhamos fica aqui dentro -->
             <section class="admin-section">
                <h2>Adicionar Nova Matéria</h2>
                <form id="add-subject-form">
                    <label for="subject-name">Nome da Matéria</label>
                    <input type="text" id="subject-name" placeholder="Ex: Finanças" required>
                    <label for="subject-color">Cor da Matéria</label>
                    <input type="color" id="subject-color" value="#ffd700">
                    <button type="submit">Adicionar Matéria</button>
                </form>
            </section>
        <!-- ... Fim da seção "Adicionar Nova Matéria" ... -->
        </section>

        <!-- INÍCIO DA NOVA SEÇÃO DE GERENCIAMENTO -->
        <section class="admin-section">
            <h2>Gerenciar Conteúdo Existente</h2>
            <p>Clique em um item para excluí-lo. <strong>Cuidado, esta ação não pode ser desfeita.</strong></p>
            
            <fieldset>
                <legend>Matérias</legend>
                <div id="manage-subjects-list">
                    <!-- A lista de matérias para excluir aparecerá aqui -->
                </div>
            </fieldset>

            <fieldset>
                <legend>Lições</legend>
                <div id="manage-lessons-list">
                    <!-- A lista de lições para excluir aparecerá aqui -->
                </div>
            </fieldset>
        </section>
        <!-- FIM DA NOVA SEÇÃO DE GERENCIAMENTO -->

        
        <!-- INÍCIO DA NOVA SEÇÃO DE GERENCIAMENTO DE USUÁRIOS -->
        <section class="admin-section">
            <h2>Gerenciar Usuários</h2>
            <div id="manage-users-list">
                <!-- A lista de usuários para excluir aparecerá aqui -->
            </div>
        </section>
        <!-- FIM DA NOVA SEÇÃO DE GERENCIAMENTO DE USUÁRIOS -->
        <!-- ...Fim da seção de Gerenciar Usuários... -->
        </section>

        <!-- INÍCIO DA SEÇÃO DE LIÇÃO DE REFORÇO -->
        <section class="admin-section">
            <h2>Adicionar Lição de Reforço</h2>
            <form id="add-reinforcement-form">
                <fieldset>
                    <legend>Vincular à Lição Principal</legend>
                    <label for="select-trigger-lesson">Esta lição de reforço será desbloqueada após o aluno iniciar o quiz da lição:</label>
                    <select id="select-trigger-lesson" required></select>
                </fieldset>
                <fieldset>
                    <legend>Conteúdo da Lição de Reforço</legend>
                    <label>Título</label>
                    <input type="text" id="rf-title" required>
                    <label>URL do Vídeo</label>
                    <input type="text" id="rf-video-url">
                    <label>URL da Imagem</label>
                    <input type="text" id="rf-image-url">
                    <label>URL do Áudio</label>
                    <input type="text" id="rf-audio-url">
                    <label>Texto Explicativo</label>
                    <textarea id="rf-text"></textarea>
                </fieldset>
                <fieldset id="rf-questions-container">
                    <legend>Questões de Treino (5)</legend>
                    <!-- As 5 questões serão geradas aqui pelo JS -->
                </fieldset>
                <button type="button" id="add-rf-question-btn">Adicionar Outra Questão</button>
                <button type="submit" style="width:100%; margin-top:15px;">Salvar Lição de Reforço</button>
            </form>
        </section>
        <!-- FIM DA SEÇÃO DE LIÇÃO DE REFORÇO -->

        <section class="admin-section">
        <!-- Início da seção "Adicionar Nova Lição" ... -->
             <!-- ... (resto do seu formulário de lições) ... -->
             <section class="admin-section">
                <h2>Adicionar Nova Lição</h2>
                <form id="add-lesson-form">
                    <fieldset>
                        <legend>Dados Gerais da Lição</legend>
                        <label for="select-subject">Selecione a Matéria</label>
                        <select id="select-subject" required></select>
                        <label for="lesson-title">Título da Lição</label>
                        <input type="text" id="lesson-title" placeholder="Ex: Introdução aos Juros Compostos" required>
                        <label for="lesson-order">Ordem da Lição (1 para a primeira, 2 para a segunda, etc.)</label>
                        <input type="number" id="lesson-order" min="1" value="1" required>
                        <label for="video-url">URL do Vídeo (Embed)</label>
                        <input type="text" id="video-url" placeholder="Link do vídeo no YouTube, Vimeo, etc." required>
                        <label for="image-url">URL da Imagem (pós-vídeo)</label>
                        <input type="text" id="image-url" placeholder="Link para a imagem .jpg, .png">
                        <label for="audio-url">URL do Áudio (pós-vídeo)</label>
                        <input type="text" id="audio-url" placeholder="Link para o áudio .mp3">
                        <label for="lesson-text">Texto Explicativo (com desenhos/HTML se souber)</label>
                        <textarea id="lesson-text" placeholder="Escreva a explicação aqui..."></textarea>
                    </fieldset>
                    <fieldset>
                        <legend>Questão 1 (Treino)</legend>
                        <label for="q1-time">Tempo em segundos</label>
                        <input type="number" id="q1-time" min="10" value="60" required>
                        <label for="q1-text">Texto da Questão 1</label>
                        <textarea id="q1-text" required></textarea>
                        <label>5 Alternativas (a primeira é a correta)</label>
                        <input type="text" class="q1-option" placeholder="Alternativa Correta" required>
                        <input type="text" class="q1-option" placeholder="Alternativa 2" required>
                        <input type="text" class="q1-option" placeholder="Alternativa 3" required>
                        <input type="text" class="q1-option" placeholder="Alternativa 4" required>
                        <input type="text" class="q1-option" placeholder="Alternativa 5" required>
                    </fieldset>
                    <fieldset>
                        <legend>Questão 2 (Avaliativa)</legend>
                        <label for="q2-time">Tempo em segundos para todas as variantes</label>
                        <input type="number" id="q2-time" min="10" value="90" required>
                        <div class="q2-variant">
                            <h3>Variante A</h3>
                            <label>Texto da Questão</label>
                            <textarea class="q2-text" required></textarea>
                            <label>6 Alternativas (a primeira é a correta)</label>
                            <input type="text" class="q2-option-a" placeholder="Alternativa Correta" required><input type="text" class="q2-option-a" placeholder="Alternativa 2" required><input type="text" class="q2-option-a" placeholder="Alternativa 3" required><input type="text" class="q2-option-a" placeholder="Alternativa 4" required><input type="text" class="q2-option-a" placeholder="Alternativa 5" required><input type="text" class="q2-option-a" placeholder="Alternativa 6" required>
                        </div>
                        <div class="q2-variant">
                            <h3>Variante B</h3>
                            <label>Texto da Questão</label>
                            <textarea class="q2-text" required></textarea>
                            <label>6 Alternativas (a primeira é a correta)</label>
                            <input type="text" class="q2-option-b" placeholder="Alternativa Correta" required><input type="text" class="q2-option-b" placeholder="Alternativa 2" required><input type="text" class="q2-option-b" placeholder="Alternativa 3" required><input type="text" class="q2-option-b" placeholder="Alternativa 4" required><input type="text" class="q2-option-b" placeholder="Alternativa 5" required><input type="text" class="q2-option-b" placeholder="Alternativa 6" required>
                        </div>
                        <div class="q2-variant">
                            <h3>Variante C</h3>
                            <label>Texto da Questão</label>
                            <textarea class="q2-text" required></textarea>
                            <label>6 Alternativas (a primeira é a correta)</label>
                            <input type="text" class="q2-option-c" placeholder="Alternativa Correta" required><input type="text" class="q2-option-c" placeholder="Alternativa 2" required><input type="text" class="q2-option-c" placeholder="Alternativa 3" required><input type="text" class="q2-option-c" placeholder="Alternativa 4" required><input type="text" class="q2-option-c" placeholder="Alternativa 5" required><input type="text" class="q2-option-c" placeholder="Alternativa 6" required>
                        </div>
                    </fieldset>
                    <button type="submit" style="width:100%; padding: 20px; font-size: 1.2rem;">SALVAR LIÇÃO COMPLETA</button>
                </form>
            </section>
        </main>
    </div>

    <script src="admin.js"></script>
</body>
</html>